<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
    @page { size: A4; margin: 1cm; }
    body { font-family: Helvetica, Arial, sans-serif; font-size: 12px; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th { background-color: #2c3e50; color: white; padding: 5px; text-align: left; }
    td { border-bottom: 1px solid #eee; padding: 5px; }
    .total-row td { background-color: #ecf0f1; font-weight: bold; border-top: 2px solid #333; }
    .right { text-align: right; }
</style>
</head>
<body>
    <h1 style="text-align: center;">Relatório de Folha de Pagamento</h1>
    <div style="text-align: center; color: #777;">Gerado em: {% now "d/m/Y H:i" %}</div>
    <table>
        <thead><tr><th>Nome</th><th>CPF</th><th class="right">Bruto</th><th class="right">Descontos</th><th class="right">Líquido</th></tr></thead>
        <tbody>
            {% for f in funcionarios %}
            <tr>
                <td>{{ f.nome_completo }}</td><td>{{ f.cpf }}</td>
                <td class="right">{{ f.salario|floatformat:2 }}</td>
                <td class="right" style="color:red;">{{ f.calculo_descontos|floatformat:2 }}</td>
                <td class="right" style="color:green;">{{ f.salario_liquido|floatformat:2 }}</td>
            </tr>
            {% endfor %}
            <tr class="total-row">
                <td colspan="2" class="right">TOTAIS GERAIS:</td>
                <td class="right">{{ total_bruto|floatformat:2 }}</td>
                <td></td>
                <td class="right">{{ total_liquido|floatformat:2 }}</td>
            </tr>
        </tbody>
    </table>
</body>
</html>